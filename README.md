[![Review Assignment Due Date](https://classroom.github.com/assets/deadline-readme-button-22041afd0340ce965d47ae6ef1cefeee28c7c493a6346c4f15d667ab976d596c.svg)](https://classroom.github.com/a/wTylcrtj)
# ðŸ“± Mobile Task Manager â€“ Assignment 9

This repository contains the implementation for **Assignment 9** of the Task Manager App project.

## ðŸŽ¯ Assignment Goal

Refactor the app in order to use Room & coroutines to implement local data persistence.

## âœ… Implemented Features

- Annotated Task to use it as an Entity on the Database. Task id will be autogenerated (and is now a Long over Int for better Room compatibility). Furthermore, Task ID can now be 0 on creation, but this will be a placeholder only so Room knows to autogenerate a new id when storing.
- Implemented LocalDateConverter so Room knows how to manage the dueDate. The converter will use the functions defined on earlier weeks to format a date to a MM DD string and to create a LocalDate from a MM DD string.
- Implemented TaskDAO, an interface for Room to create a DAO. TaskDAO will have insert method that inserts a given Task and returns its assigned id (autogenerated key), update & delete methods that return the number of affected rows and a getAll method that returns a LiveData which holds a list with all the stored Tasks.
- Implemented TaskDB.
- Implemented TaskRepository, which will use a DAO to handle CRUD operations over the DB. TaskRepository will have public add/delete/update methods to handle basic operations with coroutines in the IO context, and a get method that functions in the main context. Exposes the task List as a LiveData to the TaskViewModel, which is read from the DB only once and is updated automatically by the DB.
- TaskRepository has a private Map that allows quick access to Task data for the get method.
- Refactored TaskViewModel to use the Repository. Now exposes a tasks LiveData which is retrieved from the repository. Refactored CRUD methods to use the repository (now has private methods used only to launch the coroutines). Now can only retrieve a Task by its ID.
- Refactored code where needed (layout files, TaskForm...) to adapt id to Long. A notable change is that the observer which updated TaskAdapter has been changed, previous version was bugged & failed to update when the DD updated the LiveData list    

## ðŸš§ Known Issues

- No known issues.

## ðŸ“ Notes

- Refactored code architecture. Code that serves to represent the Task (Task.kt, Extensions.kt & Category.kt) is on data_model package, code for db use (TaskDAO, TaskDB & LocalDateConverter) are stored in db package, TaskViewModel & TaskRepository are in model package. UI package is unchanged.

---

> This assignment is part of the Mobile Development course at Escuela Superior de EnxeÃ±aria Informatica - Universidade de Vigo.  
> See the course syllabus and lab instructions for more details.